# 스프링 컨테이너, 빈

## 1. 스프링 컨테이너 란?

스프링 컨테이너는 자바 객체의 생명주기를 관리한다. 컨테이너에 등록된 객체를 스프링 빈(Bean)이라 한다.

## 2. 스프링 컨테이너 : BeanFactory와 ApplicationContext

![](/sangwon/images/bean_factory.png)

### [ BeanFactory ]

- 스프링 컨테이너의 최상위 인터페이스다.

- 스프링 빈을 관리하고 조회하는 역할을 담당한다.

### [ ApplicationContext ]

- BeanFactory 기능을 모두 상속 받아서 제공한다.

## 3. ApplicatonContext가 제공하는 부가기능

빈을 관리하고 검색하는 기능을 BeanFactory가 제공해주는데, 그러면 둘의 차이가 뭘까?

![](/sangwon/images/applicationcontext.png)

- 메시지소스를 활용한 국제화 기능
 
- 환경변수 : 로컬, 개발, 운영등을 구분해서 처리

- 애플리케이션 이벤트 : 이벤트를 발행하고 구독하는 모델을 편리하게 지원

- 편리한 리소스 조회 : 파일, 클래스패스, 외부 등에서 리소스를 편리하게 조회

- 다양한 설정 형식 지원 : 자바 코드 형식 설정, XML 설정 등

## 4. 스프링 컨테이너 사용 이유

### [ 제어의 역전 IoC(Inversion of Control) ]

기존 프로그램은 클라이언트 구현 객체가 스스로 필요한 서버 구현 객체를 생성하고, 연결하고, 실행했다. 구현 객체가 프로그램의 제어 흐름을 스스로 조정했다. 그로 인해 애플리케이션에서는 수 많은 객체가 존재하고 서로를 참조하게 된다.

이는 DIP(Dependency inversion principle) 의존관계 역전 원칙을 위반하고 OCP(Open/closed principle) 개방-폐쇄 원칙을 위반하게 된다.

스프링 컨테이너는 IoC(Inversion of Control) 제어의 역전을 통해 컨테이너에서 객체(Bean)을 생명주기를 관리하고 다른 구현체에서 사용하게 하여 객체지향 프로그래밍을 가능하게 한다.

### [ 의존관계 주입 DI(Dependency Injection) ]

애플리케이션 실행 시점(런타임)에 외부에서 실제 구현 객체를 생성하고 클라이언트에 전달해서 클라이언트와 서버의 실제 의존관계가 연결 되는 것을 의존관계 주입이라 한다.

객체 인스턴스를 생성하고, 그 참조값을 전달해서 연결된다.

의존관계 주입을 사용하면 클라이언트 코드를 변경하지 않고, 클라이언트가 호출하는 대상의 타입 인스턴스를 변경할 수 있다.

의존관계 주입을 사용하면 정적인 클래스 의존관계를 변경하지 않고, 동적인 객체 인스턴스 의존관계를 쉽게 변경할 수 있다.

> 참고 : [스프링 핵심 원리 - 기본편](https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-%ED%95%B5%EC%8B%AC-%EC%9B%90%EB%A6%AC-%EA%B8%B0%EB%B3%B8%ED%8E%B8)
