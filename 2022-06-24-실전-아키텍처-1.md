# 실전 아키텍처 - 1
이 글은 개인의 경험을 기반으로 주관적인 의견을 상당히 포함하고 있습니다.<br>
전문적인 소프트웨어 공학적인 글이 아닌 실무에서 혹은 공부할 떄 도움이 될 만한 의견을 공유해보고자 합니다.<br>
틀린 부분이 있을 수도 있어 지식의 목적보다는 많은 견해 중 하나 혹은 노하우 공유 정도로 참고해주시면 좋을 것 같습니다.<br>

# 소프트웨어 아키텍처란
> 소프트웨어의 기본이 되는 시스템구조나 구조체를 의미한다.<br>
> 모든 소프트웨어는 특정한 목적이 있고, 구현하는 방법 또는 시스템적인 구조를 통해 목적을 달성할 수 있다.<br>

소프트웨어 아키텍처는 단순히 소스 레벨에서의 구조만이 아닌 시스템 전체의 구조도 같이 포함하고 있다.<br>
소프트웨어 아키텍처를 설계하기 위해 여러 가지 패턴이 존재하는데 아래와 같이 다양한 패턴이 존재한다.

## 아키텍처 패턴의 종류
- 레이어 패턴
- 클라이언트 서버 패턴
- 파이프 필터 패턴
- 모델 뷰 컨트롤러 (MVC) 패턴
- 마스터-슬레이브 패턴
- 브로커 패턴
- 피어 투 피어 패턴
- 이벤트 버스 패턴
- 블랙보드 패턴
- 인터프리터 패턴

대부분의 아키텍처는 일반적인 상황에서 경험해보기 힘들기 때문에 이해하기 쉽지 않은 것이 현실이다.<br>
많은 회사들이 MSA에 대해 큰 관심을 가지고 실제로도 많이들 적용하고 있는 추세다. 많은 사람들이 취업을 위한 공부로 MSA를 공부하는 모습을 볼 수 있는데 중요한 것은 단순히 MSA를 공부하는 것이 아니다.<br>

개인적으로 개발자는 소프트웨어를 개발하는 직업이지만 가치를 따졌을 때 문제를 해결하는 사람에 가깝다고 생각한다.<br>
실무에서 기능개발, 오류개선, 성능개선 등 모든 업무들은 필요에 의해서 진행되는 것이고, 우리는 항상 목적을 잃지 않아야 한다.<br>
아키텍처는 어디까지나 내가 필요한 소프트웨어를 잘 만들기 위한 청사진일 뿐이고, `왜` 라는 의문을 항상가지고 있어야한다.<br>

# 아키텍처 선정
우리가 소프트웨어를 개발할 때 가장 일반적으로 접근하는 방식은 MVC 패턴일 것이다. <br>
웹 애플리케이션을 개발한다는 가정하에 우리는 거의 무의식적으로 Controller, Service, Model 레이어를 만들고 개발을 시작한다.<br>
빠르게 결과물을 보고 싶은 마음에 키보드에 먼저 손이 가는 것은 나 역시 고치기 힘든 버릇이지만 최소한의 고민을 하고 설계를 한 뒤 개발하는 것이 좋다는 것은 체감까지는 아니더라도 머리로는 개발자들 모두 아는 상식일 것이다.<br>
그렇다면 어떤 아키텍처를 어떤 식으로 결정해야 할까. <br>

## 아키텍처 선정전에 고민해야할 사항
1. 만들고자 하는 소프트웨어를 실행할 환경
2. 저장 될 데이터 종류
3. 데이터의 흐름 종류와 통신 방법
4. 외부 시스템 연동 여부
5. 협업 인력 수

위 모든 사항들은 어쩌면 당연한 고려사항이지만 결국에는 `트레이드 오프`를 따져서 가장 효율적인 구조를 잡기 위함이다.<br>
예를들어 협업 인력이 5명정도인 팀에서 MSA 방식으로 소프트웨어를 개발한다면 유지보수비용의 문제 뿐만아니라 개발단계에서부터 많은 어려움을 겪을 것이다.<br>
개인적으로 MSA는 협업 인력의 수가 많을 경우 효율적일 수 있을 것이라고 판단한다. 간단한 애플리케이션이라도 여러 API 서버가 각자의 구조를 가지고 있고, 그 외 인프라에 대한 고려사항, 개발방법 등 들어가는 비용이 많기 때문에 인력이 적다면 오히려 수지타산이 맞지 않게 되는 것이다.<br>

간단한 예를 들자면 혼자서 개발하고 복잡하지 않은 애플리케이션을 만든다고 하면 간단한 레이어드와 MVC 패턴을 채택하면 빠르게 개발할 수 있을 것이다.<br>
혼자서 개발하니 개발에 집중할 수 있는 구조가 좋을 것이고, 혼자서 개발한다고 해도 개발기간이 길수록 혼동이 올 수 있다. DB나 비즈니스로직, 프레젠테이션 영역과 같이 관심사에 따른 분리를 위해 MVC 패턴을 사용하고 전체적인 흐름 파악에 유용한 레이어드 방식이 좋을 것이라고 판단한 결과이다.<br>

이처럼 아키텍처는 단순히 텍스트로만 알 수 있는 장,단점만 가지고 결정하는 것보다 실제로 겪어보면서 발전해나가는 것이라고 생각한다.<br>
성능개선이라면 CS지식이 많을수록 더 유리할수도 있다. 컴퓨터가 동작하는 방식이나 성능에 대한 원리 자체는 불변이기 때문이다.<br>
하지만 아키텍처는 다르다. 팀의 특성, 인력 등 외부요인에 의해 달라질 수 있고, 남들이 얘기하는 레거시 구조도 어떤 팀에서는 어떤 트렌드보다 잘맞는 구조일수도 있는 것이다.

# 정리
이 글을 보고 어쩌면 트렌드가 중요하지 않다는 것을 말하고 싶은 것인지 의문이 들수도 있고, 포괄적인 내용을 담고 있어 구체적인 도움이 되지 않을수도 있다.<br>
어디까지나 이 글은 기본적으로 아키텍처나 기타 개발 트렌드에 대한 공부를 필수로 한다. 아는 것이 많을수록 시도해보거나 고려할 선택지가 늘어나게 된다.<br>
이 글에서의 핵심은 단순히 좋은 구조이고 애플리케이션에 잘 맞겠다고 판단하고 선정하는 것이 아니라 인력이나 기타 외부 요인들에 따른 `트레이드 오프`를 따져보고 선정해야한다는 것이고 이런식으로 접근하는 관점을 바꿔보는 것에서 시작해보자는 의견이 담긴 글이다.<br>
여기서 마치고 다음 글에서는 간단한 예시와 함께 아키텍처를 잡아보는 글을 쓰려한다. <br>

# 참고
- https://wnsgml972.github.io/platform/2021/03/06/importance-software-architecture/
- https://mingrammer.com/translation-10-common-software-architectural-patterns-in-a-nutshell/?utm_source=gaerae.com&utm_campaign=%EA%B0%9C%EB%B0%9C%EC%9E%90%EC%8A%A4%EB%9F%BD%EB%8B%A4&utm_medium=social#4-%ED%8C%8C%EC%9D%B4%ED%94%84-%ED%95%84%ED%84%B0-%ED%8C%A8%ED%84%B4-pipe-filter-pattern
