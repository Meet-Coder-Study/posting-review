# 스타일 가이드와 규칙

tag: #블로그포스팅-8기  #책 #소프트스킬

## Intro

대부분의 엔지니어링 조직에는 내부 코드베이스를 관리하는 규칙이 있다.
일반적으로 소스 파일을 저장하는 위치, 코드 포맷팅, 명명 방식, 패턴, 예외와 스레드 사용법 등을 규정한다.

그래서 소프트웨어 엔지니어 대부분은 조직에서 허용하는 정책 범위 안에서 코드를 작성한다. 구글도 나름의 스타일 가이드를 활용해 코드베이스를 관리한다.

## 규칙과 가이드

규칙(rule)은 곧 법이다. 제안이나 권장사항이 아닌, 엄격하고 꼭 지켜야 하는 법이다.
코드 전반에서 따라야 하는 강제사항이라, 꼭 필요하며 승인된 경우를 제외하고는 무시할 수 없습니다.

한편, 지침(guidance)은 권장사항과 모범 사례를 말한다.
따르는 편이 이득이라 웬만하면 따르도록 권장하지만, 규칙과는 달리 다소 변형해 적용해도 괜찮다.

## 스타일 가이드란

구글은 코딩할 때 따라야 하는 혹은 하지 말아야 하는 규칙을 모아서 프로그래밍 스타일 가이드(programming style guide)로 정리해 표준으로 삼고 있다.
'스타일'이라는 단어가 코드 형식(fomatting)만을 다룬다고 오해할 수 있지만, 사실 그 이상의 내용을 내포하고 있다.
스타일 가이드는 구글의 코드를 지배하는 종합적인 규약 모음집이다. 규약이라는 표현만큼 너무 엄격하진 않다.

가령 '합리적인 선에서 가능한 한 서술적인 이름을 사용하라'와 같은 스스로 고민해서 판단할 수 있도록 근거가 되는 규칙들을 모아둔 원천 역할을 하는 것이다.
가이드의 목표는 코드의 '지속 가능성'을 높일 수 있도록 이끄는 것이다. 어떤 스타일 가이드는 이름짓기와 포맷팅처럼 중요한 몇 가지에만 집중하여 아주 간결하고, 어떤 가이드는 언어별 특징을 포함하여 상세한 내용까지 다뤄 꽤 긴 문서로 관리되고 있다. 또, 어떤 가이드는 구글 외부 세계와 범용적으로 사용하는 데 초점을 두었다.

구글 내에서 관리되는 스타일 가이드끼리도 차이가 크기 때문에 '스타일 가이드는 이러한 내용을 담아야 한다'라고 정의하기 어렵다.
결국 스타일 가이드에 담긴 결정들은 구글 코드베이스를 지속 가능하도록 관리하기 위한 규칙일 뿐이다.

## 규칙이 필요한 이유

규칙을 관리하는 목표는 '좋은' 행동을 장려하고, '나쁜'행동을 억제하기 위함이다. '좋은'과 '나쁜'의 해석은 조직마다 차이가 있다.
좋음과 나쁨은 조직마다 주관적이고, 무엇이 필요하냐에 따라 달라진다.

예를들어, 어떤 조직에서는 메모리 사용량을 줄이거나 런타임 성능을 높여줄 가능성이 큰 사용 패턴을 장려하는 것을 '좋다'라고 여길 수 있고,
또 다른 조직에서는 최신 언어 기능을 활용하는 쪽이 '좋다'라고 생각할 수 있다.
또 일관성을 최우선으로 하여 기존 패턴과 다른 모든 것을 '나쁘다'라고 간주하는 조직도 있을 수 있다.

결국, 가장 먼저 조직이 추구하는 가치를 파악해야 한다. 무엇을 장려 또는 억제할지 규정하는 규칙과 지침은 그 가치를 기준으로 정해진다.

확립된 규칙과 지침은 조직이 커지더라도 일관되게 통용되는 공통의 코딩 어휘가 된다. 어휘가 통일되면 엔지니어들은 코드를 표현하는 '형식'보다 코드에 담을 '내용'에 집중할 수 있다. 공통 어휘를 형성하면 엔지니어들은 무의식적으로도 '좋은' 코드를 작성하는 경향이 생긴다.

최종적으로 위에서 정의된 코딩 어휘라고 하는 규칙은 일상의 개발 패턴을 조직이 원하는 방향으로 나아갈 수 있는 역할로 폭 넓게 활용된다.


## Reference

- 참고 - [구글 엔지니어는 이렇게 일한다.](http://www.yes24.com/Product/Goods/109182479)