

# 컴퓨터 상에서 오류검출을 위한 트릭 2가지



## 컴퓨터 작업에서 오류 정정이 중요한 이유?

- 컴퓨터는 크게 보면 세 가지 작업만을 한다. 계산 수행, 그리고 그 계산 수행을 위한 데이터 저장과 전송이 있다. 마지막 두 가지가 핵심이다.

- 컴퓨터 세상에서는 99.9999%의 정확성도 충분치 않다. 특히 돈과 관련된 문제라면 더욱 그렇다.

  ```
  예를 들어보자, 1바이트가 영문자 한 글자를 의미할 때, 
  1 GB 만큼의 데이터를 전송할 때 0.0001%의 오류율은 약 105 자의 오타가 발생한다.
  ex) 1024 * 1024 * 0.0001 = 105
  ```

- 어떻게 컴퓨터는 수십 억 분의 일 확률 이하의 오류율을 달성할 수 있을까?



## 반복 트릭

- 가장 직관적인 방법이다. 
- 사람이 오류를 제거하기 위해 하는 행동과 같다.
- 하지만 이것으로도 충분할까? 같은 데이터가 오류가 발생하면? 또한 몇번의 반복을 해야 안전한가? 등의 문제가 있다.

- 예를 들어, 은행의 잔고를 요청하기 위해 5번의 전송을 요청한다고 하자.

  ```
  전송 1: $ 5 2 9 3 . 7 5
  전송 2: $ 5 2 1 3 . 7 5
  전송 3: $ 5 2 1 3 . 1 1
  전송 4: $ 5 4 4 3 . 7 5
  전송 5: $ 7 2 1 8 . 7 5
  ```

- 여기서 고객은 어떤 일을 할 수 있을까? 모든 전송에 대해 각 자리수를 하나씩 비교해보는 수 밖에 없다. 

- 즉, 하나의 자릿수에 대해 모든 전송 정보를 보고 가장 발생 빈도가 높은 값을 고르는 것이다.

- 가장 발생 빈도가 높은 값들을 취합하면 `$ 5 2 1 3 . 7 5`  가 최종적인 값이 된다.

- 이 통신의 오류율은 20%에 불과하다. 5개 중에 1개를 틀려야 오류 확인이 가능하다.



## 중복(리던던시) 트릭

- 반복 트릭은 사용되지 않지만 반복 트릭에서 배운 교훈은 잉여 정보가 반드시 필요하다는 것이다.

- 원본 메시지에 잉여 정보(리던던시, redundancy)를 덧붙여서 오류를 파악할 수 있다.

- 예시를 통해 살펴보자. 여러분이 은행 잔고 '5213.75 달러'라는 정보를 전송한다면 어떻게 리던던시를 만들까?

  ```
  ( 5 2 1 3 . 7 5)
  five two one three point seven five
  ```

- 다음과 같이 숫자를 알파벳으로 바꿔서 리던던시를 만들 수도 있다. 

- 이 경우, 약 20%의 데이터의 오류가 발생한다고 가정 해보자. 메시지는 다음과 같이 바뀔 것이다.

  ```
  fiqe kwo one thrxp point sivpn fivq
  ```

  

- 이 메시지를 통해 `fiqe` 를 `five` 라고 추측 할 수 있다. 

- 이러한 패턴을 **코드 워드(code word) ** 라고 부른다.

- 각 숫자에 코드워드가 할당되면 다음과 같이 정리해 볼 수 있다.

  ```
  인코딩
  1 -> one
  2 -> two
  3 -> three
  4 -> four
  5 -> five
  ```

  ```
  디코딩
  five -> 5 (정확한 부합)
  fiqe -> 5 (가장 근접한 부합)
  twe -> 2 (가장 근접한 부합)
  ```

- 사람은 알파벳을 이해할 수 있지만 실제로 컴퓨터가 이해하려면 코드워드를 숫자로 바꾸어야 한다.

- 여기서 우리가 익히 들어서 알고 있는 해밍 코드가 나온다.

```
인코딩
0000 -> 0000000
0001 -> 0001011
0010 -> 0010111
0011 -> 0011100
0100 -> 0100110
```

```
디코딩
0010111 -> 0010
0010110 -> 0010
1011100 -> 0011
```



- 반복 트릭과 리던던시 트릭의 큰 차이점은 무엇일까?
- 반복 트릭은 원본을 여러 번 보내야하므로 오버헤드가 크다는 것이다.
- 반면, 리던던시 트릭은 코드워드 집합의 정확한 구성에 달려있다. 이것은 수학적으로 정밀히 계산된다.



- 지금 까지 살펴본 두 가지 트릭은 오류 정정이 불가능하다.
- 다음에 살펴볼 내용은 오류를 검출하고 동시에 정정할 수 있는 알고리즘인 체크섬 트릭과 핀포인트 트릭이다.

---

미래를 바꾼 아홉가지 알고리즘. 존 매코믹 지음. 민병교 옮김. 2012. 에이콘



