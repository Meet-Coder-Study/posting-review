## μ¤ν”„λ§μ„ μ™ λ§λ“¤μ—λ”κ°€

### κΈ°μ μ ν•µμ‹¬ μ»¨μ…‰

- κ°μ²΄μ§€ν–¥
- μΆ‹μ€ κ°μ²΄μ§€ν–¥ μ• ν”λ¦¬μΌ€μ΄μ…μ„ κ°λ°ν•  μ μλ„λ΅ λ„ν™”μ£Όλ” ν”„λ μ„μ›ν¬
- EJBμ— μΆ…μ†λμ„ κ°λ°ν–μ„λ•λ” κ°μ²΄μ§€ν–¥μ μΆ‹μ€ μ¥μ μ„ μƒμ–΄λ²„λ¦°λ‹¤

# κ°μ²΄μ§€ν–¥ νΉμ§•

## κ°μ²΄μ§€ν–¥ ν”„λ΅κ·Έλλ°

- κ°μ²΄λ“¤μ λ¨μ„
- κ°μ²΄λ” λ©”μ‹μ§€λ¥Ό μ£Όκ³ λ°›κ³  λ°μ΄ν„°λ¥Ό μ²λ¦¬
- ν”„λ΅κ·Έλ¨μ„ μ μ—°ν•κ³  λ³€κ²½ μ©μ΄ν•κ² λ§λ“ λ‹¤

## μ μ—°ν•κ³  λ³€κ²½μ΄ μ©μ΄

- μ»΄ν¬λ„νΈλ¥Ό μ‰½κ³  μ μ—°ν•κ² λ³€κ²½ν•λ©΄μ„ κ°λ° κ°€λ¥
- λ‹¤ν•μ„±

## λ‹¤ν•μ„±

- μ—­ν• κ³Ό κµ¬ν„μΌλ΅ κµ¬λ¶„
- μ—­ν• : μΈν„°νμ΄μ¤
- κµ¬ν„ : μΈν„°νμ΄μ¤ κµ¬ν„μ²΄


## μ¤ν”„λ§κ³Ό κ°μ²΄μ§€ν–¥

- λ‹¤ν•μ„±
- μ¤ν”„λ§μ€ λ‹¤ν•μ„±μ„ κ·Ήλ€ν™”ν•μ—¬ μ‚¬μ©ν•  μ μλ„λ΅ λ„ν™”μ¤€λ‹¤
- μ μ–΄μ μ—­μ „ , μμ΅΄κ΄€κ³„ μ£Όμ…μ€ λ‹¤ν•μ„±μ„ ν™μ©ν•μ—¬ μ—­ν• κ³Ό κµ¬ν„μ„ νΈλ¦¬ν•κ² λ‹¤λ£°μ μλ„λ΅ λ„μ™€μ¤€λ‹¤

## SOLID

### SRP

- ν΄λμ¤λ” ν•λ‚μ μ±…μ„λ§ κ°€μ Έμ•Ό ν•λ‹¤
- λ³€κ²½μ΄ μμ„λ• νκΈ‰ ν¨κ³Όκ°€ μ μΌλ©΄ λ‹¨μΌ μ±…μ„ μ›μΉ™μ„ μ λ”°λ¥Έ κ²ƒμ΄λ‹¤
- μ±…μ„μ λ²”μ„λ¥Ό μ μ΅°μ ν•΄μ•Ό ν•λ‹¤

### OCP κ°λ°© νμ‡„ μ›μΉ™

- λ‹¤ν•μ„±
- μ—­ν• κ³Ό κµ¬ν„μ„ λ¶„λ¦¬
- ν΄λΌμ΄μ–ΈνΈ μ…μ¥μ—μ„ κµ¬ν„μ„ λ°λΌλ„ λλ‹¤
- μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• μƒλ΅μ΄ ν΄λμ¤λ¥Ό λ§λ“ λ” κ²ƒμ€ λ³€κ²½μ— λ‹«ν€ μλ” κ²ƒμ΄λ‹¤
- κ°μ²΄λ¥Ό μƒμ„±ν•κ³  μ—°κ΄€κ΄€κ³„λ¥Ό λ§Ίμ–΄μ£ΌκΈ° μ„ν• λ³„λ„μ μ„¤μ •μκ°€ ν•„μ”ν•λ‹¤ (μ¤ν”„λ§ μ»¨ν…μ΄λ„)

### LSP λ¦¬μ¤μ½”λ“ μΉν™ μ›μΉ™

- λ‹¤ν•μ„±μ„ μ μ©ν•μ—¬ μΈν„°νμ΄μ¤ κµ¬ν„μ²΄κ°€ μΈν„°νμ΄μ¤ κµ¬μ•½μ„ μ§€μΌμ•Ό ν•λ‹¤

### ISP μΈν„°νμ΄μ¤ λ¶„λ¦¬ μ›μΉ™

- ν΄λΌμ΄μ–ΈνΈλ¥Ό μ„ν• μΈν„°νμ΄μ¤λ¥Ό μ—¬λ¬κ° λ§λ“¤μ–΄ λ‘”λ‹¤
- νΉμ • μΈν„°νμ΄μ¤κ°€ λ³€ν•΄λ„ ν΄λΌμ΄μ–ΈνΈλ” μν–¥μ„ λ°›μ§€ μ•λ”λ‹¤
- μΈν„°νμ΄μ¤κ°€ λ…ν™•ν•΄μ§€κ³  λ€μ²΄ κ°€λ¥μ„±μ΄ λ†’μ•„μ§„λ‹¤

### DIP μμ΅΄κ΄€κ³„ μ—­μ „ μ›μΉ™

- μ¶”μƒν™”λ μΈν„°νμ΄μ¤μ— μμ΅΄ν•΄μ•Ό ν•λ‹¤
- κµ¬μ²΄ν™”λ μΈν„°νμ΄μ¤ κµ¬ν„μ²΄μ— μμ΅΄ν•λ©΄ μ•λλ‹¤
- μ—­ν• μ— μμ΅΄ν•΄μ•Ό ν•λ‹¤
- `μ—­ν• ` - κ°μ²΄κ°€ ν‘λ ¥ μ•μ—μ„ μν–‰ν•λ” μ±…μ„μ μ§‘ν•©
- μ¶”μƒν΄λμ¤μ™€ μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•μ—¬ μ—­ν• μ„ κµ¬ν„ν•λ‹¤
- μ1.)
- ν• μΈ μ”κΈμ„ κ³„μ‚°ν•λ” κ²½μ°
- DiscountPolicy μΈν„°νμ΄μ¤λ¥Ό λ§λ“¤μ–΄ λ‘”λ‹¤
- ν• μΈ μ •μ±…μ΄ μ μ©λμ§€ μ•μ€ μν™”μΈ κ²½μ° DiscountPolicy λ¥Ό κµ¬ν„ν• NoneDiscountPolicy κµ¬ν„μ²΄μ λ‚΄λ¶€ λ΅μ§μ΄ μ‘λ™λλ‹¤
- ν• μΈ μ •μ±…μ΄ μ μ©λ κ²½μ° DiscountPolicyλ¥Ό κµ¬ν„ν• DefaultDiscoutnPolicy κµ¬ν„μ²΄ μ λ‚΄λ¶€ λ΅μ§μ΄ μ‘λ™λλ‹¤
- μ¦‰ , Movie μ…μ¥μ—μ„λ” DiscountPolicyμ κµ¬ν„μ²΄κ°€ λ¬΄μ—‡μΈμ§€ μ¤‘μ”ν•μ§€ μ•λ‹¤
- DiscountPolicy μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• κµ¬ν„μ²΄κ°€ ν• μΈ μ •μ±…μ— λ§κ²λ” μ”κΈμ„ κ³„μ‚°ν•΄ μ¤„κ²ƒμ΄λΌλ” κ²ƒμ΄ μ¤‘μ”ν•λ‹¤
- μ¶”κ°€μ μΈ ν• μΈ μ •μ±…μ΄ μƒκΈ°λ” κ²½μ° DiscountPolicy μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• κµ¬ν„μ²΄λ¥Ό μƒλ΅ λ§λ“¤λ©΄ λλ‹¤

- μ2.)
- μ΄μ „μλ” μλ™μ°¨ κµ¬ν„μ²΄μ λ‚΄λ¶€ λ΅μ§μ— λ€ν•΄ λ°λΌλ„ λλ‹¤
- μλ™μ°¨μ μ—­ν• λ§ μ•λ©΄λλ‹¤
- μλ™μ°¨λ¥Ό μ–Έμ λ“  λ°”κΏ€μ μμ–΄μ•Ό ν•λ‹¤

<aside>
π“ ν΄λΌμ΄μ–ΈνΈκ°€ μΈν„°νμ΄μ¤μ— μμ΅΄ν•΄μ•Ό μ μ—°ν•κ² κµ¬ν„μ²΄λ¥Ό λ³€κ²½ν•  μ μλ‹¤

</aside>

- MemberServiceλ” MemberRepository μΈν„°νμ΄μ¤μ—λ„ μμ΅΄ν•κ³  μμ§€λ§
- MemoryMemberRepository κµ¬ν„μ²΄μ—λ„ μμ΅΄ν•κ³  μλ‹¤
- λ”°λΌμ„ κµ¬ν„μ²΄κ°€ λ³€κ²½λλ©΄ MemberService μ½”λ“μ—λ„ μν–¥μ„ μ¤€λ‹¤
- MemberServiceκ°€ κµ¬ν„μ²΄λ¥Ό μ§μ ‘ μ„ νƒν•κ³  μκΈ° λ•λ¬Έμ— λ¬Έμ κ°€ λλ” κ²ƒμ΄λ‹¤
- DIP μ„λ°μ΄λ‹¤

```java
public class MemberService {
    private MemberRepository memberRepository = new MemoryMemberRepository();
}
```

- ν•΄κ²°μ±…
- MemberServiceκ°€ MemberRepository μΈν„°νμ΄μ¤μ—λ§ μμ΅΄ν•λ„λ΅ μ„¤κ³„ν•΄μ•Ό ν•λ‹¤

### λ‹¤ν•μ„± λ§μΌλ΅ OCP DIPλ¥Ό μ§€ν‚¬μ μ—†λ‹¤

- κµ¬ν„μ²΄λ¥Ό λ³€κ²½ν•λ” κ²½μ° κµ¬ν„μ²΄μ— μμ΅΄ν•κ³  μλ” λ‹¤λ¥Έ μ½”λ“λ„ λ³€κ²½ν•΄μ¤μ•Ό ν•λ‹¤


## IoC

- μ μ–΄μ μ—­μ „
- OrderServiceImpl κ°μ²΄κ°€ μ§μ ‘ μΈν„°νμ΄μ¤μ— μμ΅΄ν•λ” κ°μ²΄λ¥Ό μƒμ„±ν•κ³  μ£Όμ…ν•μ—¬ κ΄€λ¦¬ν–λ‹¤
- AppConfig ν΄λμ¤κ°€ μΈν„°νμ΄μ¤μ— μμ΅΄ν•λ” κµ¬ν„κ°μ²΄λ¥Ό μ§μ ‘ μƒμ„±ν•΄μ£Όκ³  μμ΅΄κ΄€κ³„λ¥Ό μ£Όμ…ν•΄μ¤€λ‹¤
- μ¦‰ , μ μ–΄κ¶μ΄ κµ¬ν„κ°μ²΄μ—μ„ AppConfigλ΅ λ„μ–΄κ°”λ‹¤
- μ¤ν”„λ§ ν”„λ μ„μ›ν¬κ°€ μ μ›κ¶μ„ κ°–κ² λλ‹¤
- ν΄λμ¤κ°€ μ¤μ¤λ΅ κµ¬ν„κ°μ²΄λ¥Ό μƒμ„±ν•κ³  μ£Όμ…ν•μ§€ μ•λ”λ‹¤

```java
public class OrderServiceImpl implements OrderService {

    private MemberRepository memberRepository;
    private DiscountPolicy discountPolicy;

    public OrderServiceImpl(MemberRepository memberRepository, DiscountPolicy discountPolicy) {
        this.memberRepository = memberRepository;
        this.discountPolicy = discountPolicy;
    }

    @Override
    public Order createOrder(Long memberId, String itemName, int itemPrice) {
        System.out.println(memberId + " " + itemName + " " + itemPrice );
        Member member = memberRepository.findMember(memberId);
        int discountPrice = discountPolicy.discount(member, itemPrice);
        return new Order(memberId, itemName, itemPrice, discountPrice);
    }
}
```

- OrderServiceImpl μ…μ¥μ—μ„λ” `MemberRepository` μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• κµ¬ν„κ°μ²΄μ™€ `DiscountPolicy` μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• κµ¬ν„κ°μ²΄κ°€ μ–΄λ–¤κ² λ μ§€ ν”„λ΅κ·Έλ¨μ΄ μ‹¤ν–‰λκΈ° μ „κΉμ§€ μ• μ μ—†λ‹¤

### DI

- AppConfig ν΄λμ¤κ°€ μΈν„°νμ΄μ¤μ— μμ΅΄ν•λ” κµ¬ν„κ°μ²΄λ¥Ό μ§μ ‘ μƒμ„±ν•λ‹¤
- ν•΄λ‹Ή κµ¬ν„μ²΄κ°€ μμ΅΄ν•κ³  μλ” κ°μ²΄μ— μ§μ ‘ μμ΅΄κ΄€κ³„λ¥Ό μ£Όμ…ν•΄ μ¤€λ‹¤
- μμ΅΄ κ°μ²΄κ°€ μƒμ„±λκ³  κ°μ²΄μ μ°Έμ΅°κ°’μ΄ μΈν„°νμ΄μ¤ νƒ€μ…μ— μ—°κ²°λλ‹¤

```java
// μ΄κ±°λ¥Ό DIλ¥Ό ν†µν•΄ μλ™μΌλ΅ ν•΄μ¤€λ‹¤
DiscountPolicy discounPolicy = new FixDiscountPolicy();
```

- DIλ¥Ό μ‚¬μ©ν•λ©΄ μ •μ μΈ ν΄λμ¤ μμ΅΄κ΄€κ³„λ” λ³€κ²½ν•μ§€ μ•μ•„λ„ λλ‹¤
- DIκ°€ μλ™μΌλ΅ κµ¬ν„μ²΄λ¥Ό μƒμ„±ν•μ—¬ μ£Όμ…ν•΄μ£ΌκΈ° λ•λ¬Έμ΄λ‹¤

- μ •μ μΈ ν΄λμ¤ μμ΅΄κ΄€κ³„μ—μ„λ” μμ΅΄ν•λ” μΈν„°νμ΄μ¤λ¥Ό importλ¥Ό λ³΄κ³  νλ‹¨ ν•  μ μλ‹¤
- μ• ν”λ¦¬μΌ€μ΄μ…μ„ μ‹¤ν–‰ν•μ§€ μ•κ³ λ„ μμ΅΄κ΄€κ³„λ¥Ό νμ•…ν•  μ μλ‹¤

```java
import hello.core.discount.DiscountPolicy;
import hello.core.member.Member;
import hello.core.member.repository.MemberRepository;
import hello.core.order.Order;
import hello.core.order.service.OrderService;

public class OrderServiceImpl implements OrderService {

	...
}
```

- DiscountPolicy μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• κµ¬ν„μ²΄κ°€ λ“¤μ–΄μ¬κ²ƒ μ΄λΌλ” κ²ƒλ§ μ•κ³  μƒμ„±μλ¥Ό ν†µν•΄ μ£Όμ…λ  κµ¬μ²΄μ μΈ κµ¬ν„μ²΄λ¥Ό μ•μ μ—†λ‹¤
- μ™?
- ν”„λ΅κ·Έλ¨μ΄ μ‹¤ν–‰λλ” μ‹μ μ— κµ¬ν„μ²΄κ°€ κ²°μ •λκΈ° λ•λ¬Έμ΄λ‹¤
- λ™μ μΈ μμ΅΄ κ΄€κ³„
- μ¦‰ , AppConfig ν΄λμ¤μ DiscountPolicy μΈν„°νμ΄μ¤μ— FixDiscountPolicy κµ¬ν„μ²΄κ°€ μ£Όμ…λμ—λ‹¤λ©΄ ν•΄λ‹Ή κµ¬ν„μ²΄κ°€ κµ¬ν„ν• λ©”μ„λ“κ°€ μ‹¤ν–‰λ  κ²ƒμ΄κ³ 
- RateDiscountPolicy κµ¬ν„μ²΄κ°€ μ£Όμ…λμ—λ‹¤λ©΄ ν•΄λ‹Ή κµ¬ν„μ²΄κ°€ κµ¬ν„ν• λ©”μ„λ“κ°€ μ‹¤ν–‰λ  κ²ƒμ΄λ‹¤
- λ”°λΌμ„ ν”„λ΅κ·Έλ¨μ΄ μ‹¤ν–‰λκΈ° μ „κΉμ§€λ” μ–΄λ–¤ κµ¬ν„μ²΄κ°€ μ£Όμ…λ μ§€ μ• μ μ—†λ‹¤

### IoC DI μ»¨ν…μ΄λ„

- IoC μ»¨ν…μ΄λ„ λλ” DI μ»¨ν…μ΄λ„ λΌκ³  ν•λ‹¤
- μ»¨ν…μ΄λ„κ°€ κ°μ²΄λ¥Ό μ§μ ‘ μƒμ„±λ° κ΄€λ¦¬ν•κ³  μμ΅΄κ΄€κ³„λ¥Ό μ£Όμ…ν•΄ μ¤€λ‹¤
- μμ΅΄κ΄€κ³„ μ£Όμ…μ— μ΄μ μ„ λ§μ¶° μµκ·Όμ—λ” DI μ»¨ν…μ΄λ„ λΌκ³  ν•λ‹¤
- μ—¬λ¬ DI μ»¨ν…μ΄λ„ μ¤ν”μ†μ¤κ°€ λ§μ΄ μλ‹¤
- μ–΄μƒλΈ”λ΅ λλ” μ¤λΈμ νΈ ν©ν† λ¦¬ λΌκ³  λ¶€λ¦¬κΈ°λ„ ν•λ‹¤
