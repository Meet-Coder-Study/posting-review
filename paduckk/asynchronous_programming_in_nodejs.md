# asynchronous_programming_in_nodejs

## ì„œë¡ 

`NodeJS`ê°€ ë¬´ì—‡ì¸ì§€ ì•Œê¸° ìœ„í•´ êµ¬ê¸€ì— `NodeJSëž€` ê²€ìƒ‰ì„ í•˜ë©´ ë§¤ìš° ë‹¤ì–‘í•œ ì •ë³´ê°€ ë‚˜ì˜µë‹ˆë‹¤.

```
Node.jsëŠ” í™•ìž¥ì„± ìžˆëŠ” ë„¤íŠ¸ì›Œí¬ ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œì— ì‚¬ìš©ë˜ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ í”Œëž«í¼ì´ë‹¤.
ìž‘ì„± ì–¸ì–´ë¡œ ìžë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ í™œìš©í•˜ë©° Non-blocking I/Oì™€ ë‹¨ì¼ ìŠ¤ë ˆë“œ ì´ë²¤íŠ¸ ë£¨í”„ë¥¼ í†µí•œ ë†’ì€ ì²˜ë¦¬ ì„±ëŠ¥ì„ ê°€ì§€ê³  ìžˆë‹¤.
```

> ì¶œì²˜ ìœ„í‚¤ë°±ê³¼

ë¬´ìŠ¨ ë§ ì¼ê¹Œìš” ðŸ¤¨?
í”„ë¡œê·¸ëž˜ë°ì„ ë°°ìš´ì§€ ì–¼ë§ˆ ì•ˆ ëœ ì €ì—ê²ŒëŠ” ë„ˆë¬´ ì–´ë ¤ìš´ ë‹¨ì–´ë“¤ì´ì—ˆê³  ì°¨ì¸° ê³µë¶€í•˜ê³  `NodeJS`ë¥¼ ì‚¬ìš©í•˜ë©° í•˜ë‚˜ í•˜ë‚˜ ì´í•´ í–ˆì§€ë§Œ ê·¸ ë‹¹ì‹œì—” ìžë£Œì™€ ë¸”ë¡œê·¸ ê¸€ ë“¤ì„ ë´ë„ ìž˜ ì™€ë‹¿ì§€ ì•ŠëŠ” ë¶€ë¶„ë“¤ì´ ë§Žì•˜ìŠµë‹ˆë‹¤.

ë”°ë¼ì„œ `NodeJS`ê°€ ë¬´ì—‡ì¸ì§€ ê²€ìƒ‰ í•  ë•Œ ë‚˜ì˜¤ëŠ”

- ë…¼ ë¸”ëŸ­í‚¹ IO
- ì´ë²¤íŠ¸ ë“œë¦¬ë¸, ë‹¨ì¼ ìŠ¤ë ˆë“œ ì´ë²¤íŠ¸ ë£¨í”„
- callback íŒ¨í„´
- Promise
- async/await

ì´ í•­ëª©ë“¤ì„ ì‰½ê²Œ í”„ë¡œê·¸ëž˜ë°ì— ê°“ ìž…ë¬¸í•œ ë¶„ë“¤ì—ê²Œ ì‰½ê²Œ ì™€ë‹¿ëŠ” ë§ë“¤ë¡œ í’€ì–´ ë³´ê³ ìž í•©ë‹ˆë‹¤.

## Non Blocking IO

Non Blocking IOëŠ” IO ìž‘ì—…ì´ ì½”ë“œì˜ ì§„í–‰ì„ ë§‰ì§€ ì•ŠëŠ” ë‹¤ëŠ” ì˜ë¯¸ ìž…ë‹ˆë‹¤.

Non Blocking IO ë‹¨ì–´ í•˜ë‚˜ í•˜ë‚˜ ì°¬ì°¬ížˆ ì˜ë¯¸ë¥¼ ì‚´íŽ´ ë´…ì‹œë‹¤

IOëŠ” Input, Outputì„ ì˜ë¯¸í•©ë‹ˆë‹¤. í”„ë¡œê·¸ëž¨ì—ì„œ IOì˜ ì˜ë¯¸ëŠ”

- Inputì€ í”„ë¡œê·¸ëž¨ ì•ˆìœ¼ë¡œ ë“¤ì–´ì˜¤ëŠ” ìž…ë ¥
- Outputì€ í”„ë¡œê·¸ëž¨ ë°–ìœ¼ë¡œ ë‚´ë³´ë‚´ëŠ” ì¶œë ¥

ìš°ë¦¬ê°€ ê°œë°œí•˜ëŠ” í”„ë¡œê·¸ëž¨ ë‚´ì—ì„œì˜ ìž…ì¶œë ¥ì—ëŠ” ì—¬ëŸ¬ ì¢…ë¥˜ê°€ ìžˆìŠµë‹ˆë‹¤.

- File I/O : íŒŒì¼ ë¶ˆëŸ¬ì˜¤ê¸°, íŒŒì¼ ì“°ê¸° ë“±..
- Network I/O : ë„¤íŠ¸ì›Œí¬ ìš”ì²­ì„ í†µí•œ ìž…ì¶œë ¥, (ex: http request..)

ì´ëŸ¬í•œ ìž‘ì—…ë“¤ì˜ íŠ¹ì§•ì´ ë¬´ì—‡ ì¼ê¹Œìš”? ìš”ì²­ì— ëŒ€í•œ ì‘ë‹µì´ ì§€ì—° ì‹œê°„ì´ ê¸¸ê³  ì˜ˆì¸¡ì´ ì–´ë µë‹¤ëŠ” ì ìž…ë‹ˆë‹¤.

ë„¤íŠ¸ì›Œí¬ ìš”ì²­ì€ ë§ í•  í•„ìš”ë„ ì—†ê³  íŒŒì¼ ì½ê¸°ë¡œ ì˜ˆë¥¼ ë“¤ë©´ ìš©ëŸ‰ì´ ìž‘ì€ íŒŒì¼ì˜ ê²½ìš° ë§¤ìš° ë¹ ë¥´ê²Œ ë¶ˆëŸ¬ì™€ ì§€ê² ì§€ë§Œ ìš©ëŸ‰ì´ í° íŒŒì¼ì˜ ê²½ìš° ì˜¤ëž˜ ê±¸ë¦¬ê±°ë‚˜ ë„ˆë¬´ í¬ë©´ ì½ê¸°ì— ì‹¤íŒ¨ í•  ìˆ˜ ë„ ìžˆìŠµë‹ˆë‹¤. ë˜í•œ ë¶ˆí•„ìš”í•˜ê²Œ ë©”ì¸ ìŠ¤ë ˆë“œê°€ ë©ˆì¶œ ìˆ˜ë„ ìžˆë‹¤ëŠ” ì ì´ ìžˆìŠµë‹ˆë‹¤.

```jsx
- '../file.txt' ê²½ë¡œì˜ íŒŒì¼_ì½ê¸°
- file ë³€ìˆ˜ì— ë‹´ê¸°
- ì½˜ì†”ì— fileë³€ìˆ˜ ì¶œë ¥í•˜ê¸°
```

ìœ„ì—ëŠ” íŒŒì¼ì„ ì½ì–´ì™€ ì½˜ì†”ì— ì¶œë ¥í•˜ëŠ” ì˜ì‚¬ì½”ë“œ ìž…ë‹ˆë‹¤. íŒŒì¼ì„ ì½ì€ í›„ ì½˜ì†”ì— íŒŒì¼ ë³€ìˆ˜ë¥¼ ì¶œë ¥í•˜ê¸° ìœ„í•´ì„  íŒŒì¼ ì½ê¸° ìž‘ì—…ì´ ëª¨ë‘ ëë‚œ í›„ì— `file` ë³€ìˆ˜ì— ë‹´ì•„ ì½˜ì†”ë¡œ ì¶œë ¥ì„ í•˜ì—¬ì•¼ í•©ë‹ˆë‹¤.

ì´ ì˜ì‚¬ ì½”ë“œë¥¼ Blocking IOë¡œ ì œì–´ í•  ë•Œì™€ NonBlocking IOë¡œ ì œì–´ í•  ë•Œì˜ ì˜ˆì‹œë¥¼ ì‚´íŽ´ ë³´ê² ìŠµë‹ˆë‹¤.

```java
import java.io.FileOutputStream;
import java.io.IOException;

public class Main {
    public static void main(String[] args) throws IOException {
        // ì—¬ê¸°ì„œ íŒŒì¼ì„ ì „ë¶€ ë¶ˆëŸ¬ì˜¤ê¸°ì „ ê¹Œì§€ ì½”ë“œì˜ ì§„í–‰ì´ Blocking ë©ë‹ˆë‹¤
        try (FileOutputStream output = new FileOutputStream("../file.txt")){
            System.out.print(output);
        }
    }
}
```

java sdkì˜ File Io ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•´ì„œ íŒŒì¼ì„ ì½ì€ í›„ ì½˜ì†”ì— ì¶œë ¥ í•˜ì˜€ìŠµë‹ˆë‹¤. ê°‘ìžê¸° ìžë°”ì½”ë“œê°€ ë‚˜ì™€ ë‹¹í™© í•˜ì‹ ë¶„ë“¤ì€ ìžë°” ë‚´ìž¥ íŒŒì¼ ìž…ì¶œë ¥ì„ ê¸°ëŠ¥ì„ ì‚¬ìš©ì‹œ ì½”ë“œì˜ ì§„í–‰ì´ ë§‰í˜”ë‹¤ê°€ íŒŒì¼ì„ ë‹¤ ì½ì€ í›„ì— ë‹¤ìŒ ì½”ë“œê°€ ì‹¤í–‰ ëœë‹¤ê³  ì´í•´ í•˜ì‹œë©´ ë©ë‹ˆë‹¤.

ì´ë²ˆì—” `Node.js`ì—ì„œì˜ íŒŒì¼ ì½ê¸°ë¥¼ ì˜ˆì‹œë¥¼ ë“¤ì–´ ë³´ê² ìŠµë‹ˆë‹¤. `Node.js`ì—ì„œëŠ” FileSystemì˜ ì•½ìžì¸ fs ëª¨ë“ˆë¡œ íŒŒì¼ IO ê´€ë ¨ ìž‘ì—…ì„ ì²˜ë¦¬ í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

```jsx
const fs = require("fs");

let file = null;

fs.readFile("../file.txt", (err, data) => {
  file = data.toString();
});

console.log(file);
```

ì—¬ê¸°ì„œì˜ ê²°ê³¼ëŠ” ì½˜ì†”ì— íŒŒì¼ì˜ ë‚´ìš©ì´ ì¶œë ¥ ë˜ëŠ”ê²Œ ì•„ë‹Œ `null`ì´ ì¶œë ¥ ë©ë‹ˆë‹¤.

ì™œëƒí•˜ë©´ `Node.js`ê°€ Non Blocking IOì´ê¸° ë•Œë¬¸ ìž…ë‹ˆë‹¤. ì½”ë“œì˜ ì§„í–‰ì´ IO ìž‘ì—…ì„ ë§Œë‚˜ê²Œ ë˜ë©´ IO ìž‘ì—…ì„ ì²˜ë¦¬í•´ì¤„ ë‹¤ë¥¸ ìŠ¤ë ˆë“œì— ë„˜ê²¨ ë²„ë¦¬ê³  ê·¸ ë‹¤ìŒ ì½”ë“œë¥¼ ì§„í–‰ í•˜ê¸° ë•Œë¬¸ì— íŒŒì¼ì´ ì½ížˆê¸° ì „ì— `console.log`ê°€ ì¶œë ¥ ë˜ì–´ë²„ë¦½ë‹ˆë‹¤.

```jsx
const fs = require("fs");

let file = null;

fs.readFile("../file.txt", (err, data) => {
  file = data.toString();
  console.log(file);
});
```

ì˜¬ë°”ë¥´ê²Œ ë™ìž‘í•˜ê¸° ìœ„í•´ì„  ìœ„ì™€ ê°™ì´ ì½œë°± íŒ¨í„´ì„ í™œìš©í•˜ì—¬ì•¼ í•©ë‹ˆë‹¤. ì½œë°± íŒ¨í„´ì— ëŒ€í•´ì„œëŠ” ìž ì‹œ í›„ì— ìžì„¸ížˆ ì„¤ëª… ë“œë¦¬ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

ê·¸ë ‡ë‹¤ë©´ Node.jsì—ì„œì˜ ëª¨ë“  IOëŠ” NonBlockingì´ëƒ ë¼ê³  í•œë‹¤ë©´ ê·¸ë ‡ì§„ ì•ŠìŠµë‹ˆë‹¤.

```jsx
const fs = require("fs");

const file = fs.readFileSync("../file.txt").toString();

console.log(file);
```

`fs.readFileSync`ë¼ëŠ” ë©”ì„œë“œëŠ” BlockingIO ì˜ˆì‹œì™€ ì •í™•ížˆ ì¼ì¹˜í•˜ì—¬ ë™ìž‘í•©ë‹ˆë‹¤.

ìžë°”ì—ì„œëŠ” ë™ê¸°ì ìœ¼ë¡œ ë™ìž‘í•˜ëŠ” ë©”ì„œë“œì— `Sync`ë¼ëŠ” ì ‘ë‘ì–´ë¥¼ ë¶™ì´ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.

ë™ê¸°ì ìœ¼ë¡œ ë™ìž‘í•˜ëŠ” ë©”ì„œë“œì— `Sync`ë¼ëŠ” ì ‘ë‘ì–´ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤ëŠ” ê²ƒì€ ë‹¤ë¥´ê²Œ í‘œí˜„ í•˜ìžë©´

`Nodejs`ì˜ `fs.readFile`ì€ ë™ê¸°ì¸ì§€ ë¹„ë™ê¸°ì¸ì§€ì— ëŒ€í•œ ì •ë³´ê°€ ì—†ì–´ë„ ì•„ IO ìž‘ì—…ì´ë‹ˆ ë¹„ë™ê¸° ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬í•´ì•¼ ë˜ëŠ” êµ¬ë‚˜ë¼ê³  ì¸ì§€ í•˜ëŠ”ê²Œ ì¤‘ìš”í•©ë‹ˆë‹¤.

- fs.readFile
- fs.readFileSync â† Syncë¼ëŠ” ë‹¨ì–´ê°€ ë¶™ì–´ ë™ê¸°ì ìœ¼ë¡œ ë™ìž‘ í•œë‹¤ëŠ” ê±¸ ì•Œë ¤ì¤ë‹ˆë‹¤.

## CallBack Pattern

> í”„ë¡œê·¸ëž˜ë°ì—ì„œ ì½œë°±(callback)ì€ ë‹¤ë¥¸ ì½”ë“œì˜ ì¸ìˆ˜ë¡œì„œ ë„˜ê²¨ì£¼ëŠ” ì‹¤í–‰ ê°€ëŠ¥í•œ ì½”ë“œë¥¼ ë§í•œë‹¤.
> ì½œë°±ì„ ë„˜ê²¨ë°›ëŠ” ì½”ë“œëŠ” ì´ ì½œë°±ì„ í•„ìš”ì— ë”°ë¼ ì¦‰ì‹œ ì‹¤í–‰í•  ìˆ˜ë„ ìžˆê³ , ì•„ë‹ˆë©´ ë‚˜ì¤‘ì— ì‹¤í–‰í•  ìˆ˜ë„ ìžˆë‹¤.

`Node.js`ì—ì„œ IO ìž‘ì—…ì´ ë…¼ë¸”ëŸ­í‚¹ìœ¼ë¡œ ë™ìž‘í•˜ê¸° ë•Œë¬¸ì— ë¹„ë™ê¸° ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬ í•˜ì—¬ì•¼ í•œë‹¤ í•˜ì˜€ìŠµë‹ˆë‹¤.

ê·¸ë ‡ë‹¤ë©´ ë¹„ë™ê¸° ë°©ì‹ì²˜ë¦¬ë¥¼ ì–´ë–»ê²Œ í•´ì£¼ì–´ì•¼ í• ê¹Œìš”? ìš°ì„  ì½œë°± íŒ¨í„´ì´ ìžˆìŠµë‹ˆë‹¤.

ì½œë°± íŒ¨í„´ì„ í’€ì–´ì„œ ì„¤ëª…í•˜ë©´

`ì½œ` => í˜¸ì¶œí•˜ë‹¤, `ë°±` => ë‚˜ì¤‘ì—

í•©ì¹˜ë©´ "ë‚˜ì¤‘ì— í˜¸ì¶œí•œë‹¤" ìž…ë‹ˆë‹¤. ë‚˜ì¤‘ì€ íŠ¹ì •í•œ ì‚¬ê±´(event)ì´ ë°œìƒí•œ ì‹œì , ì‚¬ê±´ì´ ë°œìƒ í–ˆì„ë•Œ ìž…ë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´

- íŒŒì¼ ì½ê¸°ë¥¼ ìš”ì²­ í–ˆë‹¤ë©´ íŒŒì¼ì½ê¸°ê°€ ì¢…ë£Œí•œ ì‹œì 
- í‚¤ë³´ë“œì— `Enter`í‚¤ê°€ ëˆŒë¦° ì‹œì 
- ì„œë²„ ì–´í”Œë¦¬ì¼€ì´ì…˜ì— ìš”ì²­ì´ ë“¤ì–´ì˜¨ ì‹œì 

í˜¸ì¶œì€ í•¨ìˆ˜ í˜¸ì¶œì„ ì˜ë¯¸ í•©ë‹ˆë‹¤.

ì´ì œ í•©ì¹˜ë©´ "ì–´ëŠ íŠ¹ì •í•œ ì‚¬ê±´(event)ì´ ë°œìƒí•œ ìˆœê°„ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤." ìž…ë‹ˆë‹¤.

ê·¸ë ‡ë‹¤ë©´ Node.js ì½”ë“œë¡œ ì½œë°± íŒ¨í„´ì„ ì–´ë–»ê²Œ ë‚˜íƒ€ë‚´ëŠ”ì§€ ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

```jsx
const fs = require("fs");

// í•¨ìˆ˜ ìƒì„±
const callbackFn = function (err, data) {
  const file = data.toString();
  console.log(file);
};

// readFileì˜ ë‘ë²ˆì§¸ ì¸ìžë¡œ í•¨ìˆ˜ë¥¼ ì „ë‹¬
fs.readFile("../file.txt", callbackFn);
```

JSì—ì„œ í•¨ìˆ˜ëŠ” [ì¼ê¸‰ê°ì²´](https://ko.wikipedia.org/wiki/%EC%9D%BC%EA%B8%89_%EA%B0%9D%EC%B2%B4)ì´ê¸° ë•Œë¬¸ì— ê°’ìœ¼ë¡œì¨ ë³€ìˆ˜ì— í• ë‹¹í•˜ê±°ë‚˜ í•¨ìˆ˜ì˜ ì¸ìžë¡œ ë„˜ê²¨ ì¤„ ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

`fs.readFile('ë¶ˆëŸ¬ì˜¬ íŒŒì¼ ê²½ë¡œ', 'íŒŒì¼ ì½ê¸°ê°€ ëë‚œ í›„ ì‹¤í–‰ í•  í•¨ìˆ˜')`

fs.readFileì˜ ë™ìž‘ì„ í•˜ë‚˜ í•˜ë‚˜ ì‚´íŽ´ë³´ë©´

- ì²«ë²ˆ ì§¸ ì¸ìžë¡œ ë¶ˆëŸ¬ ì˜¬ íŒŒì¼ ê²½ë¡œë¥¼ ë°›ê³  2ë²ˆì§¸ ì¸ìžë¡œ íŒŒì¼ ì½ê¸°ê°€ ëë‚¬ì„ë•Œ ì‹¤í–‰ í•  í•¨ìˆ˜ë¥¼ ë„˜ê²¨ ë°›ìŠµë‹ˆë‹¤
- íŒŒì¼ ì½ê¸°ê°€ ì¢…ë£Œë˜ë©´ ë„˜ê²¨ë°›ì€ í•¨ìˆ˜ `callbackFn`ì˜ 2ë²ˆì§¸ ì¸ìžì— ì½ê¸°ì— ì„±ê³µí•œ dataë¥¼ ë„£ì–´ `í˜¸ì¶œ` í•©ë‹ˆë‹¤

ë¹„ë™ê¸° ìš”ì²­ì´ ëë‚˜ê³  ëŒì•„ì˜¤ëŠ” ì‹œì ì€ ì•Œ ìˆ˜ê°€ ì—†ê¸° ë•Œë¬¸ì— ê·¸ ì‹œì ì´ ì˜¤ë©´ ì´ í•¨ìˆ˜ í˜¸ì¶œí•´ í•˜ëŠ” íŒ¨í„´ì´ ì½œë°± íŒ¨í„´ìž…ë‹ˆë‹¤.

ë”°ë¼ì„œ JSì—ì„œëŠ” í•¨ìˆ˜ë¥¼ ì¸ìžë¡œ ë„˜ê²¨ ì½œë°±íŒ¨í„´ì„ êµ¬í˜„ í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

ì—¬ê¸°ì„œ ì´ˆë³´ìž ë¶„ë“¤ì´ ì½œë°±íŒ¨í„´ì—ì„œ ê°€ìž¥ ë§Žì´ í•˜ì‹œëŠ” ì‹¤ìˆ˜ í•˜ë‚˜ë¥¼ ì§šê³  ë„˜ì–´ ê°€ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

í•¨ìˆ˜ë¥¼ ë³€ìˆ˜ì— ë‹´ê±°ë‚˜ ì¸ìžë¡œ ë„˜ê¸°ëŠ” ê²ƒ ê³¼ í•¨ìˆ˜ë¥¼ í˜¸ì¶œ í•˜ëŠ” ê²ƒì˜ ì°¨ì´ë¥¼ ëª…í™•ížˆ ì´í•´ í•˜ì…”ì•¼ í•©ë‹ˆë‹¤.

1ì´ˆ ë’¤ì— 10 + 30ì˜ ê²°ê³¼ë¥¼ ì•Œë ¤ì£¼ëŠ” ì½”ë“œë¥¼ ìž‘ì„±í•œë‹¤ í•´ë´…ì‹œë‹¤.

```jsx
const sum = (a, b) => {
  console.log(a + b);
  return a + b;
};

// 1
setTimeout(sum, 1000);

// 2
setTimeout(sum(10, 30), 1000);
```

1ë²ˆ ì˜ˆì‹œëŠ” ì™„ì „í•˜ì§€ ì•Šì§€ë§Œ í•¨ìˆ˜ë¥¼ setTimeOut í•¨ìˆ˜ì˜ ì²«ë²ˆì§¸ ì¸ìžì— 1ì´ˆë’¤ì— ì‹¤í–‰ ë  í•¨ìˆ˜ë¥¼ ì˜¬ë°”ë¥´ê²Œ ë„˜ê²¨ ì£¼ì—ˆìŠµë‹ˆë‹¤ í•˜ì§€ë§Œ (10, 30) ì¸ìžì˜ ê°’ì€ ë„˜ê²¨ì£¼ì§€ ëª»í•´ NaNì´ ë‚˜ì˜¬ ê²ƒ ìž…ë‹ˆë‹¤.

2ë²ˆ ì˜ˆì‹œê°€ í•¨ìˆ˜ë¥¼ ê°’ìœ¼ë¡œ ë„˜ê²¨ì£¼ì§€ ì•Šê³  í•¨ìˆ˜ê°€ í˜¸ì¶œí•˜ê³  ë°˜í™˜í•œ ê°’ì„ ë„˜ê²¨ì£¼ëŠ” ëŒ€í‘œì ì¸ ìž˜ëª»ëœ ì‚¬ìš©ë²•ì´ë¼ ë³¼ ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

2ë²ˆ ì˜ˆì‹œë¥¼ ì‚´íŽ´ë³´ë©´

```jsx
// 1. setTimeout(sum(10, 30), 1000)
// 2. setTimeout(40, 1000)
```

`sum(10, 30)`ì´ ë¨¼ì € í˜¸ì¶œë˜ì–´ 40ì´ ë°˜í™˜ë˜ê³  setTimeoutì— ì²« ë²ˆì§¸ ì¸ìžë¡œ 40ì´ ë„˜ì–´ê°€ í•¨ìˆ˜ê°€ ë„˜ì–´ê°„ê²Œ ì•„ë‹Œ ê°’ì´ ë„˜ì–´ê°„ ê²ƒ ì„ ì•Œ ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

ì½œë°± í•¨ìˆ˜ë¥¼ ë„˜ê¸¸ë•Œ ì¸ìžë„ ê°™ì´ ë„˜ê¸°ê³  ì‹¶ì–´ì„œ ìœ„ì™€ ê°™ì€ ì‹¤ìˆ˜ë¥¼ ì €ì§€ë¦…ë‹ˆë‹¤.

ì´ëŸ° ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ í•¨ìˆ˜ë¥¼ í•œë²ˆë” ê°ì‹¸ ì¤Œìœ¼ë¡œ ì¨ ê°„ë‹¨í•˜ê²Œ í•´ê²° í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

```jsx
setTimeOut(() => sum(10, 30), 1000);
```

`sum(10, 30)`ì„ í•œ ë²ˆ í•¨ìˆ˜ë¡œ ê°ì‹¸ì¤Œìœ¼ë¡œì¨ ì¦‰ì‹œ ì‹¤í–‰ë˜ëŠ” ê²ƒì´ ì•„ë‹Œ ê°ì‹¸ê³  ìžˆëŠ” í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ëŠ” ì‹œì ì— í˜¸ì¶œë˜ê²Œ ë©ë‹ˆë‹¤.

ì´ëŸ¬í•œ íŒ¨í„´ì€ ì½œë°± íŒ¨í„´ì—ì„œ ë§Žì´ ì“°ì´ëŠ” ë°©ë²•ìœ¼ë¡œ DOM ì˜¤ë¸Œì íŠ¸ì— ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ë¶™ì¼ ë•Œë„ ìžì£¼ ì‚¬ìš©í•˜ëŠ” íŒ¨í„´ìž…ë‹ˆë‹¤.

ì½”ë“œë¡œ ì§ì ‘ ì²˜ë³´ì‹œë©° ì´í•´ í•´ ë³´ì‹œëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤ ðŸ‘

## ì´ë²¤íŠ¸ ë“œë¦¬ë¸, ë‹¨ì¼ ìŠ¤ë ˆë“œ ì´ë²¤íŠ¸ ë£¨í”„

> In an event-driven application, there is generally a main loop that listens for events, and then triggers a callback function when one of those events is detected.

ì—¬ê¸°ì„œ `loop`ì€ ë™ì¼í•œ í–‰ìœ„ë¥¼ ê³„ì†í•´ì„œ ë°˜ë³µí•˜ëŠ” ê²ƒì„ ë§í•©ë‹ˆë‹¤. ë‹¨ì¼ ìŠ¤ë ˆë“œ ì´ë²¤íŠ¸ ë£¨í”„ëŠ” ë¬´ì—‡ì„ ê³„ì†í•´ì„œ ë°˜ë³µí•œë‹¤ëŠ” ê²ƒì¸ì§€ ë¹„ìœ í•´ì„œ ì„¤ëª…í•´ë³´ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

- ë‹¨ì¼ ìŠ¤ë ˆë“œ ì´ë²¤íŠ¸ ë£¨í”„ => `ìƒìž ë’¤ì§€ëŠ” ì¼ê¾¼`
- ì´ë²¤íŠ¸ => ì‚¬ê±´ (ex: íŒŒì¼ ì½ê¸° ì™„ë£Œ!, enter í‚¤ ìž…ë ¥, ë„¤íŠ¸ì›Œí¬ ìš”ì²­)
- í => ìƒìž
- í•¨ìˆ˜ => ì¼

1. `ìƒìž ë’¤ì§€ëŠ” ì¼ê¾¼`ì€ ì‰¬ì§€ ì•Šê³  ìƒìžì— í•  ì¼ì´ ë‹´ê²¨ìžˆë‚˜ í™•ì¸í•˜ê³  ë‹´ê²¨ìžˆìœ¼ë©´ ì–¼ë¥¸ ì²˜ë¦¬ í•©ë‹ˆë‹¤.
2. `ìƒìž ë’¤ì§€ëŠ” ì¼ê¾¼`ì—ê²Œ './test.txt' íŒŒì¼ì„ ì½ê³  ì½ì€ ë°ì´í„°ë¥¼ `ì½˜ì†”ì— ì¶œë ¥í•˜ë¼ëŠ” ì¼`ì„ ì£¼ì—ˆìŠµë‹ˆë‹¤.
3.  `ìƒìž ë’¤ì§€ëŠ” ì¼ê¾¼`ì€ íŒŒì¼ì„ ì½ëŠ” ì¼ì€ ìžê¸°ê°€ í•  ìˆ˜ ìžˆëŠ” ì¼ì´ ì•„ë‹ˆë¯€ë¡œ íŒŒì¼ ì½ê¸° ë‹´ë‹¹ ì¼ê¾¼ì—ê²Œ ë– ë„˜ê¹ë‹ˆë‹¤ ì´ ë•Œ `íŒŒì¼ ì½ì€ í›„ í•  ì¼`ë„ ê°™ì´ ë„˜ê¹ë‹ˆë‹¤.
4. íŒŒì¼ ì½ê¸° ë‹´ë‹¹ ì¼ê¾¼ì€ ì—´ì‹¬ížˆ íŒŒì¼ì„ ì½ì€ ë’¤! íŒŒì¼ì—ì„œ ì–»ì€ ë°ì´í„°ë¥¼ `ì½˜ì†”ì— ì¶œë ¥í•˜ëŠ” ì¼`ì„ ì‹¤í–‰ í•˜ì§€ ì•Šê³ ! ìƒìžì— ë‹´ì•„ ë‘¡ë‹ˆë‹¤.
5. ìƒìžì— ë‹´ê¸´ ì¼ì€ `ìƒìž ë’¤ì§€ëŠ” ì¼ê¾¼`ì´ ë‹´ë‹¹ìž…ë‹ˆë‹¤. ìƒìžì— ë‹´ê¸´ `ì½˜ì†”ì— ì¶œë ¥í•˜ëŠ” ì¼`ì„ ì²˜ë¦¬í•˜ê³  ë‹¤ìŒ ìƒìžë¥¼ ë°˜ë³µí•´ì„œ ë’¤ì§‘ë‹ˆë‹¤.


NodejsëŠ” ìŠ¤ë ˆë“œë¥¼ ë¸”ë½í‚¹í•˜ê³  ì§€ì—°ì´ ì˜ˆì¸¡ ë˜ëŠ”ì¼ë“¤ì€ ë‹¨ì¼ ìŠ¤ë ˆë“œì—ì„œ ì²˜ë¦¬í•˜ì§€ ì•Šê³  ë¯¸ë¦¬ ë§Œë“¤ì–´ë‘” ìŠ¤ë ˆë“œë‚˜ c/c/c++ë¡œ ìž‘ì„±ëœ ì„±ëŠ¥ì´ ë” ì¢‹ì€ ëª¨ë“ˆì„ í†µí•´ì„œ ì²˜ë¦¬í•˜ë„ë¡ ê°•ì œí•©ë‹ˆë‹¤.

ë‹¨ì¼ ìŠ¤ë ˆë“œ ì¦‰ ìžë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ì²˜ë¦¬í•˜ëŠ” ë©”ì¸ ìŠ¤ë ˆë“œëŠ” ë‹¨ìˆœ ë°˜ë³µë¬¸, í•¨ìˆ˜ í˜¸ì¶œ, ìžë°”ìŠ¤í¬ë¦½íŠ¸ ì—°ì‚° ìž‘ì—…ë“¤ì„ ì²˜ë¦¬ í•©ë‹ˆë‹¤.

Nodejsê°€ ì—°ì‚°ê³¼ ê³„ì‚°ì´ ë§Žì´ ë“¤ì–´ê°€ëŠ” ê²½ìš° ì¢‹ì§€ ì•Šë‹¤ê³  í•˜ëŠ” ê²½ìš°ê°€ ë§í•˜ëŠ” ì´ìœ ê°€ ì—¬ê¸°ì— ìžˆìŠµë‹ˆë‹¤. 

í•˜ë‚˜ì˜ ì½œë°± í•¨ìˆ˜ê°€ ë§Žì€ ì—°ì‚° ìž‘ì—…ì„ í¬í•¨í•˜ê³  ìžˆë‹¤ë©´ ë‹¨ì¼ ìŠ¤ë ˆë“œê°€ ì´ í•¨ìˆ˜ë¥¼ ì²˜ë¦¬í•˜ê¸° ì „ê¹Œì§€ ë‹¤ë¥¸ ì´ë²¤íŠ¸ íì— ìŒ“ì—¬ ìžˆëŠ” ì¼ë“¤ì„ ì²˜ë¦¬í•˜ì§€ ëª»í•˜ê¸° ë•Œë¬¸ìž…ë‹ˆë‹¤.


```jsx
const excuteComplexCal = () => {
  let b = 1
  while(b < 50000000000) {
    b++
  }
  console.log(b,'done')
}

const excuteEasyCal = () => console.log('easy')

setTimeout(excuteComplexCal, 1000)
setTimeout(excuteEasyCal, 1)

```

```jsx
const excuteComplexCal = () => {
  let b = 1
  while(b < 50000000000) {
    b++
  }
  console.log(b,'done')
}

const excuteEasyCal = () => console.log('easy')

setTimeout(excuteComplexCal,1)
setTimeout(excuteEasyCal, 1000)
```