
## 서론
- 뚜껑을 열었을 때 독자들이 코드가 깔끔하고, 일관적이며, 꼼꼼하다고 감탄하면 좋겠다. 질서정연하다고 탄복하면 좋겠다. 모듈을 읽으며 두 눈이 휘둥그레 놀라면 좋겠다.
- 전문가가 짰다는 인상을 심어주면 좋겠다. 그 대신에 술 취한 뱃사람 한 무리가 짜놓은 듯 어수선해 보인다면 독자들은 프로젝트의 다른 측면도 똑같이 무성의한 태도로 처리했으리라 생각할 것이다.

- 프로그래머라면 형식을 깔끔하게 맞춰 코드를 짜야 한다. 코드 형식을 맞추기 위한 간단한 규칙을 정하고, 그 규칙을 착실히 따라야 한다. 
- 팀으로 일한다면 팀이 합의해 규칙을 정하고 모두가 그 규칙을 자동으로 적용하는 도구를 활용한다.


## 형식을 맞추는 목적
- 무엇보다 먼저, 한 가지를 분명히 짚고 넘어가자. **코드 형식은 중요하다!** 너무 중요해서 무시하기 어렵다. 너무나도 중요하므로 융통성 없이 맹목적으로 따르면 안 된다. 
- 코드 형식은 의사소통의 일환이다. 의사소통은 전문 개발자의 일차적인 의무다.
- 어쩌면 '돌아가는 코드'가 전문 개발자의 일차적 의무라 여길지도 모르겠다. 하지만 이 책을 읽으면서 생각이 바뀌었길 바란다. 
- 오늘 구현한 기능이 다음 버전에서 바뀔 확률은 아주 크다. 그런데 오늘 구현한 코드의 가독성은 앞으로 바뀔 코드의 품질에 지대한 영향을 미친다.
- 오랜 시간이 지나 원래 코드의 흔적을 더 이상 찾아보기 어려울 정도로 코드가 바뀌어도 맨 처음 잡아놓은 구현 스타일과 가독성 수준은 유지보수 용이성과 확장성에 계속 영향을 미친다.
- 원래 코드는 사라질지라도 개발자의 스타일과 규율은 사라지지 않는다.
- 그렇다면 원활한 소통을 장려하는 코드 형식은 무엇일까?

## 형식 맞추기 방법
### 적절한 행 길이를 유지하라 
- 세로 길이부터 살펴보자. 소스코드는 얼마나 길어야 적당할까? 자바 파일 크기는 클래스 크기와 밀접하다. 클래스 크기는 클래스를 논하는 장에서 다룬다. 지금은 파일 크기만 고려하자. 
- 대다수 자바 소스 파일은 크기가 어느 정도 일까? 크기와 스타일을 조사했더니 엄청난 차이가 드러났다. 
- 그림 5-1을 참조한다.

![image](https://user-images.githubusercontent.com/15938354/163656512-a2040a18-1269-4359-b0d0-ed7462269f86.png)


- 그림 5-1은 프로젝트 7개를 묘사한다. JUnit, FitNesse, testNG, Time and Money(tam), JPend, AnT, Tomcat 프로젝트를 조사한 결과이다.
- 상자를 관통하는 선은 각 프로젝트에서 최대 파일 길이와 최소 파일 길이를 나타낸다. 상자는 대략 파일의 1/3을 차지한다.(표준 편차) 상자 중간이 평균이다.

- FitNesse 프로젝트를 살펴보자. 평균 파일의 크기는 약 65줄이다. 전체 파일 중 대략 1/3이 40줄에서 100줄 조금 넘는다.
- 가장 긴 파일은 400 줄이고, 가장 짧은 파일은 6줄이다. 그림 5-1은 로그 눈금이라는 사실을 명심한다. 즉, 세로 위치가 조금만 차이나도 실제 크기는 크게 달라진다.
- JUnit, FitNesse, Time and Memory는 상대적으로 파일 크기가 작다. 500 줄을 넘어가는 파일이 없으며 대다수가 200줄 미만이다.
- 반면 Tomcat과 Ant는 절반 이상이 200줄을 넘어서고 심지어 수천 줄이 넘어가는 파일도 있다.

- 표 5-1이 우리에게 무엇을 말하느냐고? **500줄을 넘지 않고 대부분 200줄 정도인 파일로도 커다란 시스템을 구축할 수 있다는 사실이다. ** (FitNesse는 50,000줄에 육박하는 시스템이다)

- 반드시 지킬 엄격한 규칙은 아니지만 바람직한 규칙으로 삼으면 좋겠다. **일반적으로 큰 파일보다 작은 파일이 이해하기 쉽다.**


### 신문 기사처럼 작성하라
- 아주 좋은 신문 기사를 떠올려보라. 독자는 위에서 아래로 기사를 읽는다. 최상 단에 기사를 몇 마디로 요약하는 표제가 나온다.
- 옥자는 표제를 보고서 기사를 읽을지 말지 결정한다. 첫 문단은 전체 기사 내용을 요약한다. 세세한 사실은 숨기고 커다란 그림을 보여준다. 
- 쭉 읽으며 내려가면 세세한 사실이 조금씩 드러난다. 날짜, 이름, 발언, 주장, 기타 세부사항이 나온다.

- 소스파일도, 신문기사와 비슷하게 작성한다. 이름은 간단하면서도 설명이 가능하게 짓는다. 이름만 보고도 올바른 모듈을 살펴보고 있는지 아닌지를 판단할 정도로 신경 써서 짓는다.

- 소스 파일 첫 부분은 고차원 개념과 알고리즘을 설명한다. **아래로 내려갈 수록 의도를 자세히 묘사한다.** 마지막에는 가장 저차원 함수와 세부 내역이 나온다.

- 신문은 다양한 기사로 이뤄진다. 대다수 기사가 아주 짧다. 어떤 기사는 조금 길다. 한 면을 채우는 기사는 거의 없다. 
- 신문이 읽을만한 이유는 여기에 있다. **신문이 사실, 날짜, 이름 등을 무작위로 뒤섞은 긴 기사만 싣는다면 아무도 읽지 않으리라. **


### 개념은 빈 행으로 분리하라
- 거의 모든 코드는 왼쪽에서 오른쪽으로, 그리고 위에서 아래로 읽힌다. 각 행은 수식이나 절을 나타내고, 일련의 행 묶음은 완결된 생각 하나를 표현한다. 
- **생각 사이는 빈 행을 넣어 분리해야 마땅하다.**
- 너무나도 간단하지만 코드의 세로 레이아웃에 심오한 영향을 미친다. 빈 행은 새로운 개념을 시작한다는 시각적 단서다. 
(예시 생략)

### 수직 거리
- 함수 연관관계와 동작 방식을 이해하려고 이 함수에서 저 함수로 오가며 소스 파일을 뒤지는 등 뺑뻉이를 돌았으나 결국은 **미로 같은 코드 때문에 혼란만 가중된 경험이 있는가?**
- 함수나 변수가 정의된 코드를 찾으려 상속 관계를 줄줄이 거슬러 올라간 경험이 있는가? 결코 달갑지 않은 경험일 것이다. 
- 시스템이 무엇을 하는지 이해하고 싶은데, 이 조각 저 조각이 **어디에 있는지 찾고 기억하느라 시간과 노력을 소모한다.**

- **서로 밀접한 개념은 세로로 가까이 둬야 한다.
- 물론 두 개념이 서로 다른 파일에 속한다면 규칙이 통하지 않는다. 하지만 타당한 근거가 없다면 서로 밀접한 개념은 한 파일에 속해야 마땅하다.
- 연관성이 깊은 두 개념이 멸리 떨어져 있으면, 코드를 읽는 사람이 소스 파일과 클래스를 여기저기 뒤지게 된다.  
- (예시 생략)


#### 참고자료
-클린코드 5장
